{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/truongdo1z/marketplace/components/Wallet-connect.tsx"],"sourcesContent":["\"use client\"\n\nimport { ConnectButton } from \"@iota/dapp-kit\"\n\nexport function WalletConnect() {\n  return (\n    <div style={{ padding: \"1rem\", display: \"flex\", justifyContent: \"flex-end\" }}>\n      <ConnectButton />\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIO,SAAS;IACd,qBACE,8OAAC;QAAI,OAAO;YAAE,SAAS;YAAQ,SAAS;YAAQ,gBAAgB;QAAW;kBACzE,cAAA,8OAAC,8KAAa;;;;;;;;;;AAGpB"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file:///home/truongdo1z/marketplace/components/AddItemForm.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\ninterface AddItemFormProps {\r\n  onAddItem: (name: string, price: string) => Promise<void>;\r\n  isLoading?: boolean;\r\n}\r\n\r\nexport default function AddItemForm({ onAddItem, isLoading = false }: AddItemFormProps) {\r\n  const [name, setName] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!name.trim() || !price.trim()) return;\r\n\r\n    try {\r\n      await onAddItem(name.trim(), price.trim());\r\n      setName(\"\");\r\n      setPrice(\"\");\r\n    } catch (error) {\r\n      console.error(\"Error adding item:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white p-6 rounded-lg shadow-md mb-6\">\r\n      <h2 className=\"text-xl font-semibold mb-4\">Thêm sản phẩm mới</h2>\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        <div>\r\n          <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Tên sản phẩm\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"name\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            placeholder=\"Nhập tên sản phẩm...\"\r\n            disabled={isLoading}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"price\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Giá (IOTA)\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            id=\"price\"\r\n            value={price}\r\n            onChange={(e) => setPrice(e.target.value)}\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            placeholder=\"0.00\"\r\n            min=\"0\"\r\n            step=\"0.01\"\r\n            disabled={isLoading}\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          disabled={isLoading || !name.trim() || !price.trim()}\r\n          className=\"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed\"\r\n        >\r\n          {isLoading ? \"Đang thêm...\" : \"Thêm sản phẩm\"}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASe,SAAS,YAAY,EAAE,SAAS,EAAE,YAAY,KAAK,EAAoB;IACpF,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IAEnC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,CAAC,KAAK,IAAI,MAAM,CAAC,MAAM,IAAI,IAAI;QAEnC,IAAI;YACF,MAAM,UAAU,KAAK,IAAI,IAAI,MAAM,IAAI;YACvC,QAAQ;YACR,SAAS;QACX,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,sBAAsB;QACtC;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,8OAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,8OAAC;;0CACC,8OAAC;gCAAM,SAAQ;gCAAO,WAAU;0CAA+C;;;;;;0CAG/E,8OAAC;gCACC,MAAK;gCACL,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;gCACvC,WAAU;gCACV,aAAY;gCACZ,UAAU;;;;;;;;;;;;kCAGd,8OAAC;;0CACC,8OAAC;gCAAM,SAAQ;gCAAQ,WAAU;0CAA+C;;;;;;0CAGhF,8OAAC;gCACC,MAAK;gCACL,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gCACxC,WAAU;gCACV,aAAY;gCACZ,KAAI;gCACJ,MAAK;gCACL,UAAU;;;;;;;;;;;;kCAGd,8OAAC;wBACC,MAAK;wBACL,UAAU,aAAa,CAAC,KAAK,IAAI,MAAM,CAAC,MAAM,IAAI;wBAClD,WAAU;kCAET,YAAY,iBAAiB;;;;;;;;;;;;;;;;;;AAKxC"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///home/truongdo1z/marketplace/components/ItemList.tsx"],"sourcesContent":["\"use client\";\r\n\r\ninterface Item {\r\n  id: string;\r\n  name: string;\r\n  price: number;\r\n  seller: string;\r\n  sold: boolean;\r\n}\r\n\r\ninterface ItemListProps {\r\n  items: Item[];\r\n  onBuyItem: (itemIndex: number, price: number) => Promise<void>;\r\n  currentUser?: string;\r\n  isLoading?: boolean;\r\n}\r\n\r\nexport default function ItemList({ items, onBuyItem, currentUser, isLoading = false }: ItemListProps) {\r\n  const availableItems = items.filter(item => !item.sold);\r\n\r\n  const handleBuyClick = async (itemIndex: number, price: number) => {\r\n    try {\r\n      await onBuyItem(itemIndex, price);\r\n    } catch (error) {\r\n      console.error(\"Error buying item:\", error);\r\n    }\r\n  };\r\n\r\n  if (availableItems.length === 0) {\r\n    return (\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Sản phẩm có sẵn</h2>\r\n        <p className=\"text-gray-500 text-center py-8\">Chưa có sản phẩm nào trong chợ</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n      <h2 className=\"text-xl font-semibold mb-4\">Sản phẩm có sẵn ({availableItems.length})</h2>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n        {availableItems.map((item, index) => (\r\n          <div key={item.id} className=\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow\">\r\n            <h3 className=\"font-semibold text-lg mb-2\">{item.name}</h3>\r\n            <p className=\"text-blue-600 font-bold text-xl mb-2\">{item.price} IOTA</p>\r\n            <p className=\"text-gray-600 text-sm mb-4\">\r\n              Bán bởi: {item.seller.slice(0, 6)}...{item.seller.slice(-4)}\r\n            </p>\r\n            <button\r\n              onClick={() => handleBuyClick(index, item.price)}\r\n              disabled={isLoading || item.seller === currentUser}\r\n              className=\"w-full bg-green-500 text-white py-2 px-4 rounded-md hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed\"\r\n            >\r\n              {isLoading \r\n                ? \"Đang xử lý...\" \r\n                : item.seller === currentUser \r\n                ? \"Sản phẩm của bạn\" \r\n                : \"Mua ngay\"\r\n              }\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;;AAiBe,SAAS,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,WAAW,EAAE,YAAY,KAAK,EAAiB;IAClG,MAAM,iBAAiB,MAAM,MAAM,CAAC,CAAA,OAAQ,CAAC,KAAK,IAAI;IAEtD,MAAM,iBAAiB,OAAO,WAAmB;QAC/C,IAAI;YACF,MAAM,UAAU,WAAW;QAC7B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,sBAAsB;QACtC;IACF;IAEA,IAAI,eAAe,MAAM,KAAK,GAAG;QAC/B,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA6B;;;;;;8BAC3C,8OAAC;oBAAE,WAAU;8BAAiC;;;;;;;;;;;;IAGpD;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;;oBAA6B;oBAAkB,eAAe,MAAM;oBAAC;;;;;;;0BACnF,8OAAC;gBAAI,WAAU;0BACZ,eAAe,GAAG,CAAC,CAAC,MAAM,sBACzB,8OAAC;wBAAkB,WAAU;;0CAC3B,8OAAC;gCAAG,WAAU;0CAA8B,KAAK,IAAI;;;;;;0CACrD,8OAAC;gCAAE,WAAU;;oCAAwC,KAAK,KAAK;oCAAC;;;;;;;0CAChE,8OAAC;gCAAE,WAAU;;oCAA6B;oCAC9B,KAAK,MAAM,CAAC,KAAK,CAAC,GAAG;oCAAG;oCAAI,KAAK,MAAM,CAAC,KAAK,CAAC,CAAC;;;;;;;0CAE3D,8OAAC;gCACC,SAAS,IAAM,eAAe,OAAO,KAAK,KAAK;gCAC/C,UAAU,aAAa,KAAK,MAAM,KAAK;gCACvC,WAAU;0CAET,YACG,kBACA,KAAK,MAAM,KAAK,cAChB,qBACA;;;;;;;uBAfE,KAAK,EAAE;;;;;;;;;;;;;;;;AAuB3B"}},
    {"offset": {"line": 289, "column": 0}, "map": {"version":3,"sources":["file:///home/truongdo1z/marketplace/components/TransactionHistory.tsx"],"sourcesContent":["\"use client\";\r\n\r\ninterface Transaction {\r\n  item_id: string;\r\n  item_name: string;\r\n  price: number;\r\n  seller: string;\r\n  buyer: string;\r\n  timestamp: number;\r\n}\r\n\r\ninterface TransactionHistoryProps {\r\n  transactions: Transaction[];\r\n  currentUser?: string;\r\n}\r\n\r\nexport default function TransactionHistory({ transactions, currentUser }: TransactionHistoryProps) {\r\n  const userTransactions = currentUser \r\n    ? transactions.filter(tx => tx.seller === currentUser || tx.buyer === currentUser)\r\n    : transactions;\r\n\r\n  const formatDate = (timestamp: number) => {\r\n    return new Date(timestamp).toLocaleString('vi-VN');\r\n  };\r\n\r\n  const formatAddress = (address: string) => {\r\n    return `${address.slice(0, 6)}...${address.slice(-4)}`;\r\n  };\r\n\r\n  if (userTransactions.length === 0) {\r\n    return (\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Lịch sử giao dịch</h2>\r\n        <p className=\"text-gray-500 text-center py-8\">Chưa có giao dịch nào</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n      <h2 className=\"text-xl font-semibold mb-4\">Lịch sử giao dịch ({userTransactions.length})</h2>\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"w-full text-sm text-left\">\r\n          <thead className=\"text-xs text-gray-700 uppercase bg-gray-50\">\r\n            <tr>\r\n              <th scope=\"col\" className=\"px-6 py-3\">Sản phẩm</th>\r\n              <th scope=\"col\" className=\"px-6 py-3\">Giá</th>\r\n              <th scope=\"col\" className=\"px-6 py-3\">Người bán</th>\r\n              <th scope=\"col\" className=\"px-6 py-3\">Người mua</th>\r\n              <th scope=\"col\" className=\"px-6 py-3\">Thời gian</th>\r\n              <th scope=\"col\" className=\"px-6 py-3\">Vai trò</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {userTransactions.map((tx, index) => {\r\n              const isBuyer = tx.buyer === currentUser;\r\n              const isSeller = tx.seller === currentUser;\r\n              \r\n              return (\r\n                <tr key={index} className=\"bg-white border-b hover:bg-gray-50\">\r\n                  <td className=\"px-6 py-4 font-medium text-gray-900\">\r\n                    {tx.item_name}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 text-blue-600 font-semibold\">\r\n                    {tx.price} IOTA\r\n                  </td>\r\n                  <td className=\"px-6 py-4\">\r\n                    <span className={isSeller ? \"font-semibold text-green-600\" : \"\"}>\r\n                      {formatAddress(tx.seller)}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-6 py-4\">\r\n                    <span className={isBuyer ? \"font-semibold text-blue-600\" : \"\"}>\r\n                      {formatAddress(tx.buyer)}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 text-gray-600\">\r\n                    {formatDate(tx.timestamp)}\r\n                  </td>\r\n                  <td className=\"px-6 py-4\">\r\n                    {isBuyer && (\r\n                      <span className=\"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded\">\r\n                        Mua\r\n                      </span>\r\n                    )}\r\n                    {isSeller && (\r\n                      <span className=\"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded\">\r\n                        Bán\r\n                      </span>\r\n                    )}\r\n                    {!isBuyer && !isSeller && (\r\n                      <span className=\"bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded\">\r\n                        Khác\r\n                      </span>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;;AAgBe,SAAS,mBAAmB,EAAE,YAAY,EAAE,WAAW,EAA2B;IAC/F,MAAM,mBAAmB,cACrB,aAAa,MAAM,CAAC,CAAA,KAAM,GAAG,MAAM,KAAK,eAAe,GAAG,KAAK,KAAK,eACpE;IAEJ,MAAM,aAAa,CAAC;QAClB,OAAO,IAAI,KAAK,WAAW,cAAc,CAAC;IAC5C;IAEA,MAAM,gBAAgB,CAAC;QACrB,OAAO,GAAG,QAAQ,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,QAAQ,KAAK,CAAC,CAAC,IAAI;IACxD;IAEA,IAAI,iBAAiB,MAAM,KAAK,GAAG;QACjC,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA6B;;;;;;8BAC3C,8OAAC;oBAAE,WAAU;8BAAiC;;;;;;;;;;;;IAGpD;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;;oBAA6B;oBAAoB,iBAAiB,MAAM;oBAAC;;;;;;;0BACvF,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAM,WAAU;;sCACf,8OAAC;4BAAM,WAAU;sCACf,cAAA,8OAAC;;kDACC,8OAAC;wCAAG,OAAM;wCAAM,WAAU;kDAAY;;;;;;kDACtC,8OAAC;wCAAG,OAAM;wCAAM,WAAU;kDAAY;;;;;;kDACtC,8OAAC;wCAAG,OAAM;wCAAM,WAAU;kDAAY;;;;;;kDACtC,8OAAC;wCAAG,OAAM;wCAAM,WAAU;kDAAY;;;;;;kDACtC,8OAAC;wCAAG,OAAM;wCAAM,WAAU;kDAAY;;;;;;kDACtC,8OAAC;wCAAG,OAAM;wCAAM,WAAU;kDAAY;;;;;;;;;;;;;;;;;sCAG1C,8OAAC;sCACE,iBAAiB,GAAG,CAAC,CAAC,IAAI;gCACzB,MAAM,UAAU,GAAG,KAAK,KAAK;gCAC7B,MAAM,WAAW,GAAG,MAAM,KAAK;gCAE/B,qBACE,8OAAC;oCAAe,WAAU;;sDACxB,8OAAC;4CAAG,WAAU;sDACX,GAAG,SAAS;;;;;;sDAEf,8OAAC;4CAAG,WAAU;;gDACX,GAAG,KAAK;gDAAC;;;;;;;sDAEZ,8OAAC;4CAAG,WAAU;sDACZ,cAAA,8OAAC;gDAAK,WAAW,WAAW,iCAAiC;0DAC1D,cAAc,GAAG,MAAM;;;;;;;;;;;sDAG5B,8OAAC;4CAAG,WAAU;sDACZ,cAAA,8OAAC;gDAAK,WAAW,UAAU,gCAAgC;0DACxD,cAAc,GAAG,KAAK;;;;;;;;;;;sDAG3B,8OAAC;4CAAG,WAAU;sDACX,WAAW,GAAG,SAAS;;;;;;sDAE1B,8OAAC;4CAAG,WAAU;;gDACX,yBACC,8OAAC;oDAAK,WAAU;8DAAsE;;;;;;gDAIvF,0BACC,8OAAC;oDAAK,WAAU;8DAAwE;;;;;;gDAIzF,CAAC,WAAW,CAAC,0BACZ,8OAAC;oDAAK,WAAU;8DAAsE;;;;;;;;;;;;;mCAhCnF;;;;;4BAuCb;;;;;;;;;;;;;;;;;;;;;;;AAMZ"}},
    {"offset": {"line": 551, "column": 0}, "map": {"version":3,"sources":["file:///home/truongdo1z/marketplace/components/MarketplaceApp.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useCurrentAccount } from \"@iota/dapp-kit\";\r\nimport AddItemForm from \"./AddItemForm\";\r\nimport ItemList from \"./ItemList\";\r\nimport TransactionHistory from \"./TransactionHistory\";\r\nimport { useMarketplace } from \"@/hooks/useMarketplace\";\r\n\r\ninterface Item {\r\n  id: string;\r\n  name: string;\r\n  price: number;\r\n  seller: string;\r\n  sold: boolean;\r\n}\r\n\r\ninterface Transaction {\r\n  item_id: string;\r\n  item_name: string;\r\n  price: number;\r\n  seller: string;\r\n  buyer: string;\r\n  timestamp: number;\r\n}\r\n\r\nexport default function MarketplaceApp() {\r\n  const account = useCurrentAccount();\r\n  const [items, setItems] = useState<Item[]>([]);\r\n  const [transactions, setTransactions] = useState<Transaction[]>([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [activeTab, setActiveTab] = useState<'market' | 'history'>('market');\r\n  \r\n  // Mock data for demonstration - Replace with actual contract integration\r\n  useEffect(() => {\r\n    // Load initial data\r\n    const mockItems: Item[] = [\r\n      {\r\n        id: \"1\",\r\n        name: \"iPhone 15 Pro\",\r\n        price: 1000,\r\n        seller: \"0x1234567890abcdef1234567890abcdef12345678\",\r\n        sold: false\r\n      },\r\n      {\r\n        id: \"2\", \r\n        name: \"MacBook Pro M3\",\r\n        price: 2500,\r\n        seller: \"0xabcdef1234567890abcdef1234567890abcdef12\",\r\n        sold: false\r\n      },\r\n      {\r\n        id: \"3\",\r\n        name: \"AirPods Pro\",\r\n        price: 250,\r\n        seller: \"0x9876543210fedcba9876543210fedcba98765432\",\r\n        sold: true\r\n      }\r\n    ];\r\n\r\n    const mockTransactions: Transaction[] = [\r\n      {\r\n        item_id: \"3\",\r\n        item_name: \"AirPods Pro\",\r\n        price: 250,\r\n        seller: \"0x9876543210fedcba9876543210fedcba98765432\",\r\n        buyer: \"0x1111222233334444555566667777888899990000\",\r\n        timestamp: Date.now() - 86400000 // 1 day ago\r\n      }\r\n    ];\r\n\r\n    setItems(mockItems);\r\n    setTransactions(mockTransactions);\r\n  }, []);\r\n\r\n  const handleAddItem = async (name: string, priceStr: string) => {\r\n    if (!account) {\r\n      alert(\"Vui lòng kết nối ví trước\");\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    try {\r\n      // TODO: Integrate with actual contract\r\n      const price = parseFloat(priceStr);\r\n      const newItem: Item = {\r\n        id: (items.length + 1).toString(),\r\n        name,\r\n        price,\r\n        seller: account.address,\r\n        sold: false\r\n      };\r\n\r\n      setItems(prev => [...prev, newItem]);\r\n      \r\n      // Simulate delay\r\n      await new Promise(resolve => setTimeout(resolve, 1000));\r\n      \r\n      alert(`Đã thêm sản phẩm \"${name}\" với giá ${price} IOTA`);\r\n    } catch (error) {\r\n      console.error(\"Error adding item:\", error);\r\n      alert(\"Có lỗi xảy ra khi thêm sản phẩm\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleBuyItem = async (itemIndex: number, price: number) => {\r\n    if (!account) {\r\n      alert(\"Vui lòng kết nối ví trước\");\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    try {\r\n      // TODO: Integrate with actual contract\r\n      const item = items[itemIndex];\r\n      if (!item || item.sold) {\r\n        alert(\"Sản phẩm không tồn tại hoặc đã được bán\");\r\n        return;\r\n      }\r\n\r\n      // Update item as sold\r\n      setItems(prev => prev.map((item, idx) => \r\n        idx === itemIndex ? { ...item, sold: true } : item\r\n      ));\r\n\r\n      // Add transaction record\r\n      const newTransaction: Transaction = {\r\n        item_id: item.id,\r\n        item_name: item.name,\r\n        price: item.price,\r\n        seller: item.seller,\r\n        buyer: account.address,\r\n        timestamp: Date.now()\r\n      };\r\n\r\n      setTransactions(prev => [...prev, newTransaction]);\r\n\r\n      // Simulate delay\r\n      await new Promise(resolve => setTimeout(resolve, 1500));\r\n      \r\n      alert(`Đã mua thành công \"${item.name}\" với giá ${price} IOTA`);\r\n    } catch (error) {\r\n      console.error(\"Error buying item:\", error);\r\n      alert(\"Có lỗi xảy ra khi mua sản phẩm\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!account) {\r\n    return (\r\n      <div className=\"bg-white p-8 rounded-lg shadow-md text-center\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Marketplace</h2>\r\n        <p className=\"text-gray-600\">Vui lòng kết nối ví để sử dụng marketplace</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Navigation Tabs */}\r\n      <div className=\"bg-white p-1 rounded-lg shadow-md\">\r\n        <nav className=\"flex space-x-1\">\r\n          <button\r\n            onClick={() => setActiveTab('market')}\r\n            className={`flex-1 py-2 px-4 text-sm font-medium rounded-md ${\r\n              activeTab === 'market'\r\n                ? 'bg-blue-500 text-white'\r\n                : 'text-gray-500 hover:text-gray-700'\r\n            }`}\r\n          >\r\n            Thị trường\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('history')}\r\n            className={`flex-1 py-2 px-4 text-sm font-medium rounded-md ${\r\n              activeTab === 'history'\r\n                ? 'bg-blue-500 text-white'\r\n                : 'text-gray-500 hover:text-gray-700'\r\n            }`}\r\n          >\r\n            Lịch sử giao dịch\r\n          </button>\r\n        </nav>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      {activeTab === 'market' ? (\r\n        <>\r\n          <AddItemForm onAddItem={handleAddItem} isLoading={isLoading} />\r\n          <ItemList \r\n            items={items} \r\n            onBuyItem={handleBuyItem} \r\n            currentUser={account.address}\r\n            isLoading={isLoading}\r\n          />\r\n        </>\r\n      ) : (\r\n        <TransactionHistory \r\n          transactions={transactions} \r\n          currentUser={account.address}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AA0Be,SAAS;IACtB,MAAM,UAAU,IAAA,kLAAiB;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAgB,EAAE;IAClE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAuB;IAEjE,yEAAyE;IACzE,IAAA,kNAAS,EAAC;QACR,oBAAoB;QACpB,MAAM,YAAoB;YACxB;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,QAAQ;gBACR,MAAM;YACR;YACA;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,QAAQ;gBACR,MAAM;YACR;YACA;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,QAAQ;gBACR,MAAM;YACR;SACD;QAED,MAAM,mBAAkC;YACtC;gBACE,SAAS;gBACT,WAAW;gBACX,OAAO;gBACP,QAAQ;gBACR,OAAO;gBACP,WAAW,KAAK,GAAG,KAAK,SAAS,YAAY;YAC/C;SACD;QAED,SAAS;QACT,gBAAgB;IAClB,GAAG,EAAE;IAEL,MAAM,gBAAgB,OAAO,MAAc;QACzC,IAAI,CAAC,SAAS;YACZ,MAAM;YACN;QACF;QAEA,aAAa;QACb,IAAI;YACF,uCAAuC;YACvC,MAAM,QAAQ,WAAW;YACzB,MAAM,UAAgB;gBACpB,IAAI,CAAC,MAAM,MAAM,GAAG,CAAC,EAAE,QAAQ;gBAC/B;gBACA;gBACA,QAAQ,QAAQ,OAAO;gBACvB,MAAM;YACR;YAEA,SAAS,CAAA,OAAQ;uBAAI;oBAAM;iBAAQ;YAEnC,iBAAiB;YACjB,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS;YAEjD,MAAM,CAAC,kBAAkB,EAAE,KAAK,UAAU,EAAE,MAAM,KAAK,CAAC;QAC1D,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,sBAAsB;YACpC,MAAM;QACR,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,gBAAgB,OAAO,WAAmB;QAC9C,IAAI,CAAC,SAAS;YACZ,MAAM;YACN;QACF;QAEA,aAAa;QACb,IAAI;YACF,uCAAuC;YACvC,MAAM,OAAO,KAAK,CAAC,UAAU;YAC7B,IAAI,CAAC,QAAQ,KAAK,IAAI,EAAE;gBACtB,MAAM;gBACN;YACF;YAEA,sBAAsB;YACtB,SAAS,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAC,MAAM,MAC/B,QAAQ,YAAY;wBAAE,GAAG,IAAI;wBAAE,MAAM;oBAAK,IAAI;YAGhD,yBAAyB;YACzB,MAAM,iBAA8B;gBAClC,SAAS,KAAK,EAAE;gBAChB,WAAW,KAAK,IAAI;gBACpB,OAAO,KAAK,KAAK;gBACjB,QAAQ,KAAK,MAAM;gBACnB,OAAO,QAAQ,OAAO;gBACtB,WAAW,KAAK,GAAG;YACrB;YAEA,gBAAgB,CAAA,OAAQ;uBAAI;oBAAM;iBAAe;YAEjD,iBAAiB;YACjB,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS;YAEjD,MAAM,CAAC,mBAAmB,EAAE,KAAK,IAAI,CAAC,UAAU,EAAE,MAAM,KAAK,CAAC;QAChE,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,sBAAsB;YACpC,MAAM;QACR,SAAU;YACR,aAAa;QACf;IACF;IAEA,IAAI,CAAC,SAAS;QACZ,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA6B;;;;;;8BAC3C,8OAAC;oBAAE,WAAU;8BAAgB;;;;;;;;;;;;IAGnC;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,SAAS,IAAM,aAAa;4BAC5B,WAAW,CAAC,gDAAgD,EAC1D,cAAc,WACV,2BACA,qCACJ;sCACH;;;;;;sCAGD,8OAAC;4BACC,SAAS,IAAM,aAAa;4BAC5B,WAAW,CAAC,gDAAgD,EAC1D,cAAc,YACV,2BACA,qCACJ;sCACH;;;;;;;;;;;;;;;;;YAOJ,cAAc,yBACb;;kCACE,8OAAC,qIAAW;wBAAC,WAAW;wBAAe,WAAW;;;;;;kCAClD,8OAAC,kIAAQ;wBACP,OAAO;wBACP,WAAW;wBACX,aAAa,QAAQ,OAAO;wBAC5B,WAAW;;;;;;;6CAIf,8OAAC,4IAAkB;gBACjB,cAAc;gBACd,aAAa,QAAQ,OAAO;;;;;;;;;;;;AAKtC"}}]
}